<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="TeekaGramAi - –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –≤ Telegram —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º">
    <meta name="keywords" content="telegram, ai, chatbot, –Ω–µ–π—Ä–æ—Å–µ—Ç—å, –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞, –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç">
    <meta name="author" content="TeekaGramAi">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{% block og_title %}TeekaGramAi - AI Telegram Assistant{% endblock %}">
    <meta property="og:description" content="–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –≤ Telegram">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
    
    <title>{% block title %}TeekaGramAi - Telegram AI Assistant{% endblock %}</title>
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- –ò–∫–æ–Ω–∫–∏ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    
    {% block extra_head %}{% endblock %}
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="{{ url_for('index') }}" class="brand-link">
                    <i class="fas fa-robot"></i>
                    <span>TeekaGramAi</span>
                </a>
            </div>
            <div class="nav-menu">
                {% if request.endpoint == 'chat_page' %}
                    <a href="{{ url_for('index') }}" class="nav-link">
                        <i class="fas fa-home"></i>
                        <span>–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                {% endif %}
                <div class="nav-status">
                    <div class="status-indicator status-online" title="–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞"></div>
                    <span class="status-text">–û–Ω–ª–∞–π–Ω</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Flash —Å–æ–æ–±—â–µ–Ω–∏—è -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} fade-in">
                        <i class="fas fa-{% if category == 'success' %}check-circle{% elif category == 'error' %}exclamation-triangle{% elif category == 'warning' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                        {{ message }}
                        <button type="button" class="alert-close" onclick="this.parentElement.remove()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>

    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4><i class="fas fa-robot"></i> TeekaGramAi</h4>
                <p>–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –≤ Telegram</p>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-cog"></i> –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h4>
                <ul>
                    <li><i class="fab fa-python"></i> Python</li>
                    <li><i class="fas fa-brain"></i> AI/ML</li>
                    <li><i class="fab fa-telegram"></i> Telegram API</li>
                </ul>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-info-circle"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                <ul>
                    <li><i class="fas fa-shield-alt"></i> –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</li>
                    <li><i class="fas fa-lock"></i> –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</li>
                    <li><i class="fas fa-question-circle"></i> –ü–æ–¥–¥–µ—Ä–∂–∫–∞</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 TeekaGramAi. –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—â–µ–Ω–∏—è</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // –ê–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
            const cards = document.querySelectorAll('.content-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('fade-in');
                }, index * 150);
            });

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                if (!alert.classList.contains('alert-error')) {
                    setTimeout(() => {
                        alert.style.opacity = '0';
                        alert.style.transform = 'translateY(-20px)';
                        setTimeout(() => alert.remove(), 300);
                    }, 5000);
                }
            });

            // –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', function(e) {
                    const submitButton = form.querySelector('button[type="submit"]');
                    if (submitButton) {
                        submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∑–∫–∞...';
                        submitButton.disabled = true;
                    }
                });
            });

            // –£–ª—É—á—à–µ–Ω–Ω—ã–µ tooltips
            const tooltips = document.querySelectorAll('.tooltip');
            tooltips.forEach(tooltip => {
                tooltip.addEventListener('mouseenter', function() {
                    this.classList.add('tooltip-active');
                });
                tooltip.addEventListener('mouseleave', function() {
                    this.classList.remove('tooltip-active');
                });
            });
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type = 'info') {
            const container = document.querySelector('.flash-messages') || document.querySelector('.container');
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} fade-in`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i>
                ${message}
                <button type="button" class="alert-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            container.insertBefore(notification, container.firstChild);
            
            if (type !== 'error') {
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateY(-20px)';
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
        window.addEventListener('online', () => showNotification('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ', 'success'));
        window.addEventListener('offline', () => showNotification('–ü–æ—Ç–µ—Ä—è–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º', 'warning'));
    </script>

    {% block extra_scripts %}{% endblock %}
</body>
</html>